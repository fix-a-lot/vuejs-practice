<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/lib/prism.css" />
    <title>Axios</title>
    <script src="/lib/prism.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <body>
    <div class="align-center" id="app">
      <h1>{{ pageTitle }}</h1>
      <div class="description">
        <h4>ğŸ“¢Configì˜ ìš°ì„ ìˆœìœ„</h4>
        <p>ConfigëŠ” ìš°ì„  ìˆœìœ„ì— ë”°ë¼ ë³‘í•©ë©ë‹ˆë‹¤. <code class="language-js">lib/defaults.js</code> ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œì˜ ê¸°ë³¸ê°’, ì¸ìŠ¤í„´ìŠ¤ì˜ <code class="language-js">defaults</code> ì†ì„±, ìš”ì²­ì˜ <code class="language-js">config</code> ì¸ìë¥¼ ìˆœì„œëŒ€ë¡œ ì°¾ìŠµë‹ˆë‹¤. í›„ìê°€ ì „ìë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ìŠµë‹ˆë‹¤.</p>
      </div>

      <p><a href="https://axios-http.com/kr/docs/intro">ê³µì‹ ë„ì›€ë§ í˜ì´ì§€</a></p>
      <h2>Axios ì „ì—­ ê¸°ë³¸ê°’</h2>
      <button type="button" @click="fn1">1ë²ˆ: ëˆŒëŸ¬ìš”</button>
      <pre><code class="language-js"><!--
        axios.defaults.baseURL = '/return-headers.data'; // URLì„ ìƒëµí–ˆì„ ë•Œ ì ìš©í•  ì£¼ì†Œ
        axios.defaults.headers.common['Authorization'] = "Hello! I'm a token"; // ëª¨ë“  AJAX ì „ì—­ ì„¤ì •
        axios.defaults.headers.get['X-Custom-Header'] = 'foo'; // get ë©”ì„œë“œ ì „ì—­ ì„¤ì • 
        axios.defaults.headers.post['X-Custom-Header'] = 'bar'; // post ë©”ì„œë“œ ì „ì—­ ì„¤ì •

        let response = await axios.get();
        document.querySelector('#result1').innerText = JSON.stringify(response.data);

        let response2 = await axios.post();
        document.querySelector('#result2').innerText = JSON.stringify(response2.data);
      --></code></pre>
      <div class="result">
        <h4>result1:</h4>
        <p id="result1"></p>
        <h4>result2:</h4>
        <p id="result2"></p>
      </div>

      <h2>ì¸ìŠ¤í„´ìŠ¤ë³„ ê¸°ë³¸ê°’</h2>
      <button type="button" @click="fn2">2ë²ˆ: ëˆŒëŸ¬ë´ìš”</button>
      <pre><code class="language-js"><!--
        // ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í• ë•Œ config ê¸°ë³¸ê°’ ì„¤ì •í•˜ê¸°
        const instance = axios.create({
          baseURL: "/return-headers.data",
          header: {
            "X-Custom-Header": "foo"
          },
        });

        // ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“  í›„ ê¸°ë³¸ê°’ ë³€ê²½í•˜ê¸°
        instance.defaults.headers.get["X-Custom-Header"] = "bar"

        let response = await instance.get();
        document.querySelector("#result3").innerText = JSON.stringify(response.data);
      --></code></pre>
      <div class="result">
        <h4>result3:</h4>
        <p id="result3"></p>
      </div>

      <hr />
    </div>
    <script type="module">
      import { createApp } from '/lib/vue.esm-browser.js';
      const pageTitle = "Config ê¸°ë³¸ê°’ ì„¤ì •í•˜ê¸°";
      
      // VueëŠ” ì•ˆë´ë„ ë¨
      createApp({
        created() {
          document.title += `: ${pageTitle}`;
        },
        data() {
          return {
            pageTitle: pageTitle,
          };
        },
        methods: {
          async fn1() {
            // Axios ì „ì—­ ì„¤ì • ë³€ê²½í•˜ê¸°
            axios.defaults.baseURL = "/return-headers.data"; // URLì„ ìƒëµí–ˆì„ ë•Œ ì ìš©í•  ì£¼ì†Œ
            axios.defaults.headers.common["Authorization"] = "Hello! I'm a token"; // ëª¨ë“  AJAX ì „ì—­ ì„¤ì •
            axios.defaults.headers.get["X-Custom-Header"] = "foo"; // get ë©”ì„œë“œ ì „ì—­ ì„¤ì •
            axios.defaults.headers.post["X-Custom-Header"] = "bar"; // post ë©”ì„œë“œ ì „ì—­ ì„¤ì •

            let response = await axios.get();
            document.querySelector("#result1").innerText = JSON.stringify(response.data);

            let response2 = await axios.post();
            document.querySelector("#result2").innerText = JSON.stringify(response2.data);
          },
          async fn2() {
            // ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í• ë•Œ config ê¸°ë³¸ê°’ ì„¤ì •í•˜ê¸°
            const instance = axios.create({
              baseURL: "/return-headers.data",
              header: {
                "X-Custom-Header": "foo"
              },
            });

            // ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“  í›„ ê¸°ë³¸ê°’ ë³€ê²½í•˜ê¸°
            instance.defaults.headers.get["X-Custom-Header"] = "bar"

            let response = await instance.get();
            document.querySelector("#result3").innerText = JSON.stringify(response.data);
          }
        }
      }).mount("#app");
      </script>
  </body>
</html>
